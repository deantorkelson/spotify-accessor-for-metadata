(this["webpackJsonpspotify-accessor-for-metadata"]=this["webpackJsonpspotify-accessor-for-metadata"]||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/black-logo.5e670a4b.png"},50:function(e,t,a){},59:function(e,t,a){e.exports=a.p+"static/media/green-logo.feb227e2.png"},61:function(e,t,a){e.exports=a(91)},66:function(e,t,a){},67:function(e,t,a){},71:function(e,t,a){},75:function(e,t,a){},84:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(10),l=a.n(r),c=(a(66),a(29)),i=a(6),o=a(14),m=a(15),u=a(28),d=a(19),h=a(18),v=a(27),f=a(33),E=a(112),p=a(111),y=a(23),b=a.n(y),k=function(){function e(){Object(o.a)(this,e),this.api_url=void 0,"1"===Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-accessor-for-metadata",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_USE_LOCAL_BACKEND?this.api_url="http://127.0.0.1:5000":this.api_url="https://spotify-accessor-for-metadata.herokuapp.com"}return Object(m.a)(e,[{key:"searchTracks",value:function(e){return fetch(this.api_url+"/search/tracks/".concat(e)).then((function(e){return e.json()}))}},{key:"searchPlaylists",value:function(e){return fetch(this.api_url+"/search/playlists/".concat(e)).then((function(e){return e.json()}))}},{key:"fetchTrackMetadata",value:function(e){return fetch(this.api_url+"/fetchTrackMetadata/".concat(e)).then((function(e){return e.json()}))}},{key:"fetchArtistMetadata",value:function(e){return fetch(this.api_url+"/fetchArtistMetadata/".concat(e)).then((function(e){return e.json()}))}},{key:"comparePlaylists",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uris:e})};return fetch(this.api_url+"/comparePlaylists",t).then((function(e){return e.json()}))}}]),e}();var g=a(35),S=a.n(g),N=a(47),A=(a(67),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).text="",e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(N.a,{className:"input",inline:!0},s.a.createElement(N.a.Control,{type:"text",onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.props.submit())},onChange:function(t){return e.text=t.target.value}}),s.a.createElement(v.a,{className:"submit",type:"button",variant:"outline-success",onClick:function(){return e.props.submit(e.text)}},s.a.createElement("img",{className:"submit-img",src:S.a,alt:"Submit"})))}}]),a}(s.a.Component)),O=(a(50),a(71),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).spotifyApiService=new k,n.searchSubmit=n.searchSubmit.bind(Object(u.a)(n)),n.state={searchResults:[],trackName:"",artistName:"",trackMetadata:{},artistMetadata:{},loading:!1},n}return Object(m.a)(a,[{key:"searchSubmit",value:function(e){var t=this;e&&(this.setState({loading:!0}),this.spotifyApiService.searchTracks(e).then((function(e){t.setState({searchResults:e.tracks.items,loading:!1})})))}},{key:"fetchTrackMetadata",value:function(e,t){var a=this;this.spotifyApiService.fetchTrackMetadata(e).then((function(e){a.setState({trackMetadata:e,trackName:t})}))}},{key:"fetchArtistMetadata",value:function(e,t){var a=this;this.spotifyApiService.fetchArtistMetadata(e).then((function(e){a.setState({artistMetadata:e,artistName:t})}))}},{key:"createSearchResultList",value:function(){var e=this;return 0!==this.state.searchResults.length||this.state.loading?s.a.createElement("div",null,this.state.loading?s.a.createElement("div",null,s.a.createElement(f.a,{animation:"border"}),s.a.createElement("div",null,"*note that the first search might take extra time while the Heroku dyno spins up.")):s.a.createElement("div",{className:"result-list"},this.state.searchResults.map((function(t){return e.createSearchResult(t)})))):s.a.createElement("div",{key:"-1"},"No search results found.")}},{key:"createSearchResult",value:function(e){var t=this;return s.a.createElement("div",{key:e.uri},s.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){t.fetchTrackMetadata(e.uri,e.name),t.fetchArtistMetadata(e.artists[0].uri,e.artists[0].name)}},s.a.createElement("div",{className:"result"},s.a.createElement("img",{className:"cover-img",src:e.album.images[0].url,alt:"Album art for ".concat(e.album.name)}),s.a.createElement("section",{className:"result-text"},s.a.createElement("b",null,e.name),s.a.createElement("div",null,e.artists[0].name," \u2022 ",e.album.name)))))}},{key:"displayTrackMetadata",value:function(){var e=this.state.trackMetadata;if(!(null===e||void 0===e?void 0:e.duration_ms))return s.a.createElement("div",null,"Please search for and select a song to view its metadata.");var t,a;return s.a.createElement("div",null,s.a.createElement("h3",null,"Audio features for ",s.a.createElement("span",{className:"name"},this.state.trackName),":"),s.a.createElement("h5",null,"Key: ",(t=e.key,a=e.mode,"".concat(function(e){switch(e){case 0:return"C";case 1:return"C#/Db";case 2:return"D";case 3:return"D#/Eb";case 4:return"E";case 5:return"F";case 6:return"F#/Gb";case 7:return"G";case 8:return"G#/Ab";case 9:return"A";case 10:return"A#/Bb";case 11:return"B"}}(t)," ").concat(function(e){switch(e){case 0:return"minor";case 1:return"major"}}(a)))),s.a.createElement("h5",null,"Tempo: ",e.tempo),s.a.createElement("h5",null,"Beats/measure: ",e.time_signature),s.a.createElement("div",{className:"value-sliders"},s.a.createElement("div",{className:"reduced-column"},s.a.createElement("span",{className:"attribute-title"},"Acousticness "),s.a.createElement(p.a,{title:"A confidence measure from 0.0 to 1.0 of whether the track is acoustic."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.acousticness,max:1}),s.a.createElement("span",{className:"attribute-title"},"Danceability "),s.a.createElement(p.a,{title:"Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.danceability,max:1}),s.a.createElement("span",{className:"attribute-title"},"Energy "),s.a.createElement(p.a,{title:"Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.energy,max:1}),s.a.createElement("span",{className:"attribute-title"},"Instrumentalness "),s.a.createElement(p.a,{title:'Predicts whether a track contains no vocals. Rap or spoken word tracks are clearly "vocal". The closer the instrumentalness value is to 1.0, the greater likelihood the track contains no vocal content.'},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.instrumentalness,max:1})),s.a.createElement("div",{className:"reduced-column"},s.a.createElement("span",{className:"attribute-title"},"Liveness "),s.a.createElement(p.a,{title:"Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.liveness,max:1}),s.a.createElement("span",{className:"attribute-title"},"Loudness "),s.a.createElement(p.a,{title:"The overall loudness of a track in decibels (dB). Loudness values are averaged across the entire track and are useful for comparing relative loudness of tracks."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:-1*e.loudness,max:60}),s.a.createElement("span",{className:"attribute-title"},"Speechiness "),s.a.createElement(p.a,{title:"Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry), the closer to 1.0 the attribute value."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.speechiness,max:1}),s.a.createElement("span",{className:"attribute-title"},"Valence "),s.a.createElement(p.a,{title:"A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track."},s.a.createElement(b.a,{fontSize:"small"})),s.a.createElement(E.a,{disabled:!0,track:!1,value:e.valence,max:1}))))}},{key:"displayArtistMetadata",value:function(){var e=this.state.artistMetadata;return(null===e||void 0===e?void 0:e.followers)?s.a.createElement("div",null,s.a.createElement("h3",null,"Additional information on ",s.a.createElement("span",{className:"name"},this.state.artistName),":"),s.a.createElement("h5",null,"Genres: ",this.displayGenres(e.genres)),s.a.createElement("h5",null,"Followers: ",e.followers.total.toLocaleString()),s.a.createElement("h5",null,"Popularity: ",e.popularity)):s.a.createElement("div",null,"Please search for and select a song to view its artist's metadata.")}},{key:"displayGenres",value:function(e){return e.length?e.join(", "):"No genre information is available for this artist."}},{key:"render",value:function(){return s.a.createElement("div",{className:"page"},s.a.createElement("div",{className:"header"},"Enter the name of the track to search for:"),s.a.createElement(A,{submit:this.searchSubmit}),s.a.createElement("div",{className:"main-content"},s.a.createElement("div",{className:"column"},this.createSearchResultList()),s.a.createElement("div",{className:"column"},this.displayTrackMetadata(),s.a.createElement("hr",null),this.displayArtistMetadata())))}}]),a}(s.a.Component)),w=(a(75),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).BASE_URL="https://github.com/deantorkelson/spotify-accessor-for-metadata",e}return Object(m.a)(a,[{key:"getReadmeLink",value:function(){var e="".concat(this.BASE_URL,"/blob/master/README.md");return s.a.createElement("a",{className:"readme",href:e},"readme")}},{key:"getGithubIssuesLink",value:function(){var e="".concat(this.BASE_URL,"/issues");return s.a.createElement("a",{className:"readme",href:e},"Github Issues")}},{key:"render",value:function(){return s.a.createElement("div",{className:"page"},s.a.createElement("div",null,s.a.createElement("h1",null,s.a.createElement("br",null),s.a.createElement("br",null),"Welcome to the Spotify Accessor for Metadata!"),s.a.createElement("div",{className:"main-text"},s.a.createElement("h3",null,"This website was designed to allow you to do more with the metadata stored by Spotify. It's still in development, so please refer to the ",this.getReadmeLink()," or ",this.getGithubIssuesLink()," to see what's in store!"))),s.a.createElement("img",{className:"main-logo",src:S.a,alt:"Spotify Accessor for Metadata logo"}))}}]),a}(s.a.Component)),j=a(58),L=a.n(j),M=(a(84),a(85)),C=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).spotifyApiService=new k,n.searchSubmit=n.searchSubmit.bind(Object(u.a)(n)),n.closeModal=n.closeModal.bind(Object(u.a)(n)),n.state={searchResults:[],searchLoading:!1,selectedPlaylists:new Set,compareLoading:!1,modalIsOpen:!1,modalData:void 0},n}return Object(m.a)(a,[{key:"searchSubmit",value:function(e){var t=this;e&&(this.setState({searchLoading:!0}),this.spotifyApiService.searchPlaylists(e).then((function(e){t.setState({searchResults:e.playlists.items,searchLoading:!1})})))}},{key:"compareSubmit",value:function(e){var t=this;this.setState({compareLoading:!0});var a=[];e.forEach((function(e){a.push(e.uri)})),this.spotifyApiService.comparePlaylists(a).then((function(e){t.setState({compareLoading:!1,modalIsOpen:!0,modalData:e})}))}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"commonData",value:function(){return this.state.modalData?s.a.createElement(s.a.Fragment,null,s.a.createElement(v.a,{variant:"outline-secondary",onClick:this.closeModal},"Close"),s.a.createElement("div",{className:"modalContent"},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"header"},"Common artists:"),s.a.createElement("ul",null,this.state.modalData.artists.map((function(e){return s.a.createElement("div",{className:"modal-li"},e)})))),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"header"},"Common songs:"),s.a.createElement("ul",null,this.state.modalData.songs.map((function(e){return s.a.createElement("div",{className:"modal-li"},e)})))))):s.a.createElement(s.a.Fragment,null)}},{key:"createSearchResultList",value:function(){var e=this;return 0!==this.state.searchResults.length||this.state.searchLoading?s.a.createElement(s.a.Fragment,null,this.state.searchLoading?s.a.createElement("div",null,s.a.createElement(f.a,{animation:"border"}),s.a.createElement("div",null,"*note that the first search might take extra time while the Heroku dyno spins up.")):s.a.createElement("div",{className:"result-list"},this.state.searchResults.map((function(t){return e.createSearchResult(t,(function(){var a=new Set(e.state.selectedPlaylists);a.add(t),e.setState({selectedPlaylists:a})}))})))):s.a.createElement("div",{key:"-1"},"No search results found.")}},{key:"createSearchResult",value:function(e,t){return s.a.createElement("div",{key:e.uri},s.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){t(e)}},s.a.createElement("div",{className:"result"},s.a.createElement("img",{className:"cover-img",src:e.images[0].url,alt:"Cover for ".concat(e.name)}),s.a.createElement("section",{className:"result-text"},s.a.createElement("div",null,s.a.createElement("b",null,e.name)," by ",e.owner.display_name),e.description&&s.a.createElement("div",null,"Description: ",M.decode(e.description)),s.a.createElement("div",null,e.tracks.total," songs")))))}},{key:"getPlaylistList",value:function(){var e=this,t=[];return this.state.selectedPlaylists.forEach((function(a){t.push(e.createSearchResult(a,(function(){var t=new Set(e.state.selectedPlaylists);t.delete(a),e.setState({selectedPlaylists:t})})))})),t}},{key:"displaySelectedPlaylists",value:function(){var e=this;return this.state.selectedPlaylists.size>0?s.a.createElement("div",null,this.getPlaylistList(),this.state.compareLoading?s.a.createElement("div",null,s.a.createElement(f.a,{animation:"border"})):s.a.createElement(v.a,{className:"submit",type:"button",variant:"outline-success",onClick:function(){return e.compareSubmit(e.state.selectedPlaylists)}},"Submit")):s.a.createElement("div",null,"Please select some playlists to compare.")}},{key:"render",value:function(){return s.a.createElement("div",{className:"page"},s.a.createElement("div",{className:"header"},"Enter the name of the playlist to search for:"),s.a.createElement(A,{submit:this.searchSubmit}),s.a.createElement("div",{className:"main-content"},s.a.createElement("div",{className:"column"},this.createSearchResultList()),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"header"},"Comparing these playlists:"),this.displaySelectedPlaylists()),s.a.createElement("div",null,s.a.createElement(L.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal},this.commonData()))))}}]),a}(s.a.Component),P=a(59),R=a.n(P),_=(a(87),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"navbar"},s.a.createElement(c.b,{className:"logo",to:"/"},s.a.createElement("img",{className:"logo-img",src:R.a,alt:"Logo for S.A.M."}),s.a.createElement("h1",{className:"title"},"Spotify Accessor for Metadata")),s.a.createElement("ul",{className:"links"},s.a.createElement("li",null,s.a.createElement(c.b,{to:"/"},"HOME")),s.a.createElement("li",null,s.a.createElement(c.b,{to:"/search"},"SEARCH")),s.a.createElement("li",null,s.a.createElement(c.b,{to:"/playlist-compare"},"COMPARE PLAYLISTS"))))}}]),a}(s.a.Component));a(89);var T=function(){return s.a.createElement(c.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(_,null),s.a.createElement(i.c,null,s.a.createElement(i.a,{path:"/search",component:O}),s.a.createElement(i.a,{path:"/playlist-compare",component:C}),s.a.createElement(i.a,{path:"/",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(90);l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.1c935695.chunk.js.map